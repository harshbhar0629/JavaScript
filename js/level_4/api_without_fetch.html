<!-- @format -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		Hello World!
		<ul>
			<li>Create an XMLHttpRequest object</li>
			<li>Open a URL</li>
			<li>Send the request.</li>
		</ul>
		Value State Description <br />
		0 UNSENT Client has been created. open() not called yet. <br />
		1 OPENED open() has been called. <br />
		2 HEADERS_RECEIVED send() has been called, and headers and status are
		available. <br />
		3 LOADING Downloading; responseText holds partial data. <br />
		4 DONE The operation is complete. <br />
	</body>

	<script>
		const url = "https://api.github.com/users/harshbhar0629";
		const xhr = new XMLHttpRequest();
		// open send the request and it takes 2 parameter [method , string] => method type of request
		xhr.open("GET", url); // when you call to open readyState become 1

		// it detect all changed state
		xhr.onreadystatechange = function () {
			console.log("State changed: ", xhr.readyState);
			// why 4?? when readyState become 4 it means our request is successfully complete
			if (xhr.readyState === 4) {
				// ready state tells current state
				console.log(this.responseText); // reponse of api
			}
		};

		xhr.send(); // open can't call directly so we use send it call to XHR
	</script>
</html>
